# SSL Configuration for Cloud Infrastructure Platform
# This file configures SSL/TLS settings for NGINX servers

# Include the SSL parameters file that's symlinked from /deployment/security/ssl-params.conf
include /etc/nginx/conf.d/ssl-params.conf;

# SSL certificate paths - adjust these to your certificate locations
ssl_certificate /etc/ssl/certs/cloud-platform.crt;
ssl_certificate_key /etc/ssl/private/cloud-platform.key;

# Diffie-Hellman parameters for improved security
ssl_dhparam /etc/nginx/dhparams.pem;

# OCSP Stapling setup
ssl_stapling on;
ssl_stapling_verify on;
ssl_trusted_certificate /etc/ssl/certs/ca-certificates.crt;

# SSL session settings
ssl_session_timeout 24h;
ssl_session_cache shared:SSL:50m;
ssl_session_tickets off;

# Early data for TLS 1.3 (only enable for non-sensitive operations)
# ssl_early_data off;

# Add support for HTTP/2 and HTTP/3 (if supported by your NGINX version)
# http2 is enabled in the listen directive: listen 443 ssl http2;